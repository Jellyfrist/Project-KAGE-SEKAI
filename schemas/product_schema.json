from litellm import completion
from config import MODEL
import json

product_schema = {
  "name": "ProductInfo",
  "schema": {
    "type": "object",
    "properties": {
      "product_id": {
        "type": "string",
        "description": "Unique product ID (e.g. 'L001')."
      },
      "product_name": {
        "type": "string",
        "description": "The name of the cosmetic product, e.g., 'ลิปไก่ทอด'."
      },
      "category": {
        "type": "string",
        "description": "The category of the product, e.g., 'ลิปกลอส', 'คุชชั่น', 'แป้งฝุ่น'."
      },
      "features": {
        "type": "array",
        "items": {"type": "string"},
        "description": "A list of product claims or highlighted features."
      },
      "pros": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Positive points or advantages of the product."
      },
      "cons": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Negative points or weaknesses of the product."
      },
      "warnings": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Warnings or precautions about using the product."
      },
      "number_of_shades": {
        "type": "integer",
        "description": "The number of available colors or shades."
      },
      "price_range": {
        "type": "object",
        "properties": {
          "min_price": {"type": "integer"},
          "max_price": {"type": "integer"}
        },
        "required": ["min_price", "max_price"]
      }
    },
    "required": [
      "product_id",
      "product_name",
      "category",
      "features",
      "pros",
      "cons",
      "warnings",
      "price_range"
    ],
    "additionalProperties": False
  },
  "strict": True
}
